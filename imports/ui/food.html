<template name="food">

  {{#if isNotEditable}}

    <button type="button" class="btn btn-default food-item
     {{#if editingMeal}}remove-food{{/if}} {{#if beingRemoved}}{{else}}in-basket{{/if}}">
      {{text}}

      {{#if inMeal}}
        {{#if editingMeal}}
          {{#if beingRemoved}}{{else}}
            <span class="glyphicon glyphicon-minus glyph-button" aria-hidden="true"></span>
          {{/if}}
        {{else}}
        {{/if}}
      {{/if}}
    </button>

  {{else}}

      {{#HammerTouchArea gestureMap=foodGestures}}
      <div class="btn-group food-item" role="group">
      {{#if isEditing}}
        {{> foodEdit}}
      {{else}}
        <button type="button" class="btn btn-default
         {{#if isEaten}}food-is-eaten{{/if}}
         {{#if currentUser}}toggle-eaten{{/if}}">
          {{text}}
        </button>
      {{/if}}
      </div>
      {{/HammerTouchArea}}

  {{/if}}
</template>

<template name="foodEdit">
  <button type="button" class="btn btn-default {{#if isEditing}}show-input-form{{else}}hide-input-form{{/if}}">
    <form class="edit-food">
      <input class="edit-food-input" type="text" name="text" value="{{text}}"
       id="{{foodId}}" autocomplete="off"/>
    </form>
  </button>
</template>
